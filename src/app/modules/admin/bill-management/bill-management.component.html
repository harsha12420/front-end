<div class="inventory-management-cls mt-2">
  <div class="list-of-asset h-100">
    <div class="d-flex align-items-center justify-content-between">
      <div class="list-of-folders">
        <h6 class="assets-list">List of Bills</h6>
      </div>
      <div class="search-input d-flex align-items-center">
        <div class="new-assests">
          <button type="button" class="btn btn-primary same-for-all-btn-cls" data-bs-toggle="modal"
            data-bs-target="#createsystemeModal" [disabled]="accountType != '1'">
            <span class="spacing-divide">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 1.3335V10.6668" stroke="white" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M1.3335 6H10.6668" stroke="white" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg></span>
            Add New Bill
          </button>
          <!-- modal code start -->
          <div class="modal fade new-assets-modal" id="createsystemeModal" tabindex="-1"
            aria-labelledby="createsystemeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <form [formGroup]="addBillForm">
                  <div class="modal-header">
                    <h1 *ngIf="!isEdit" class="modal-title mb-0" id="createsystemeModalLabel">
                      Add New Bill
                    </h1>
                    <h1 *ngIf="isEdit" class="modal-title mb-0" id="createsystemeModalLabel">
                      Edit Bill
                    </h1>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                      (click)="onClickDiscard()"></button>
                  </div>
                  <div class="modal-body p-4">
                    <div class="assign-employee">
                      <div class="heading-product" *ngIf="!isEdit">
                        <h6>Please enter the following details</h6>
                      </div>
                      <div class="details-employee mt-4">
                        <div class="row my-3">
                          <div class="col-xl-12">
                            <div class="heading-product">
                              <h6>Bill Number <span class="mandatory">*</span></h6>
                            </div>
                            <input type="text" class="form-control" id="vBillNo" placeholder="Enter bill number"
                              formControlName="vBillNo" [maxlength]="50" />
                            <span class="text-danger"
                              *ngIf="(addBillForm.controls['vBillNo'].touched || isSubmitted) && addBillForm.controls['vBillNo'].errors?.['required']">
                              Bill Number is required
                            </span>
                            <span class="text-danger"
                              *ngIf="(addBillForm.controls['vBillNo'].touched || isSubmitted) && addBillForm.controls['vBillNo'].errors?.['maxLength']">
                              Bill Number should be 50 characters long only
                            </span>
                          </div>
                        </div>
                        <div class="row my-3">
                          <div class="col-xl-12">
                            <div class="heading-product">
                              <h6>Vendor Name <span class="mandatory">*</span></h6>
                            </div>
                            <input type="text" class="form-control" id="vVendorDetails" placeholder="Enter Vendor Name"
                              formControlName="vVendorDetails"  [maxlength]="35" />
                            <span class="text-danger"
                              *ngIf="(addBillForm.controls['vVendorDetails'].touched || isSubmitted) && addBillForm.controls['vVendorDetails'].errors?.['required']">
                              Vendor Name is required
                            </span>
                            <span class="text-danger"
                              *ngIf="(addBillForm.controls['vVendorDetails'].touched || isSubmitted) && addBillForm.controls['vVendorDetails'].errors?.['maxLength']">
                              Vendor Name should be 30 characters long only
                            </span>
                          </div>
                        </div>
                        <div class="row my-3">
                          <div class="col-xl-12">
                            <div class="heading-product">
                              <h6>Upload bill <span class="mandatory">*</span></h6>
                            </div>
                            <div class="upload-file">
                              <input type="file" class="file-input" id="file-input"
                                formControlName="vBillImage" (change)="handleFileSelect($event)" />
                              <span class="text-danger"
                                *ngIf="(addBillForm.controls['vBillImage'].touched || isSubmitted) && addBillForm.controls['vBillImage'].errors?.['required']">
                                Bill Image is required
                              </span>
                              <span class="text-danger"
                                *ngIf="!uploadData && isEdit">
                                Bill Image is required
                              </span>
                              <div class="d-block text-center">
                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                  xmlns="http://www.w3.org/2000/svg" *ngIf="!showImage">
                                  <path
                                    d="M9.33327 23.9996C7.66964 23.9996 6.07415 23.3675 4.89779 22.2422C3.72142 21.117 3.06055 19.5909 3.06055 17.9996C3.06055 16.4083 3.72142 14.8822 4.89779 13.757C6.07415 12.6318 7.66964 11.9996 9.33327 11.9996C9.72619 10.2492 10.8756 8.71092 12.5287 7.72323C13.3473 7.23417 14.2648 6.89501 15.229 6.72509C16.1931 6.55518 17.1851 6.55785 18.1481 6.73294C19.1111 6.90804 20.0264 7.25213 20.8417 7.74558C21.6569 8.23903 22.3562 8.87217 22.8996 9.60885C23.443 10.3455 23.8199 11.1713 24.0087 12.0391C24.1975 12.9068 24.1945 13.7996 23.9999 14.6663H25.3333C26.571 14.6663 27.7579 15.1579 28.6331 16.0331C29.5083 16.9083 29.9999 18.0953 29.9999 19.3329C29.9999 20.5706 29.5083 21.7576 28.6331 22.6328C27.7579 23.5079 26.571 23.9996 25.3333 23.9996H23.9999"
                                    stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                  <path d="M12 20L16 16L20 20" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                  <path d="M16 16V28" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                </svg>
                                <img *ngIf="(uploadData?.type == 'image/png' || uploadData?.type == 'image/jpg' || uploadData?.type == 'image/jpeg' || showImage) && !pdfUrl" [src]="showImage" alt="" class="preview-img" />
                                <h6 class="mt-2">Upload Bill</h6>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <a *ngIf="uploadData?.type == 'application/pdf' || pdfUrl" [href]="pdfUrl" target="_blank">{{isEdit ? pdfName : uploadData?.name}}</a>
                    </div>
                  </div>
                  <div class="modal-footer closest-ticket-add justify-content-center">
                    <button type="button" class="btn btn-outline-primary discard-cls" (click)="onClickDiscard();" data-bs-dismiss="modal"
                      *ngIf="!isEdit">
                      Discard
                    </button>
                    <button type="submit" class="btn btn-primary closing-cls" (click)="onAddBill()" *ngIf="!isEdit"
                      [disabled]="!addBillForm.valid" data-bs-dismiss="modal">
                      Add Bill
                    </button>
                    <button type="submit" class="btn btn-primary closing-cls" (click)="updateBillData()" [disabled]="addBillForm.controls['vVendorDetails'].invalid || addBillForm.controls['vBillNo'].invalid || !uploadData" *ngIf="isEdit"
                      data-bs-dismiss="modal">
                      Save
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- modal code over -->
        </div>
      </div>
    </div>

    <div class="table-responsive p-3 mt-4 table-related-inventory">
      <table class="table">
        <caption></caption>
        <thead>
          <tr>
            <th scope="col">Bill ID</th>
            <th scope="col">Date</th>
            <th scope="col">Bill Number</th>
            <th scope="col">Vendor Name</th>
            <th scope="col">Added by</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of billList">
            <td>{{ item.iBillId }}</td>
            <td>{{ item.iCreatedAt* 1000 | date }}</td>
            <td>{{ item.vBillNo }}</td>
            <td>{{ item.vVendorDetails }}</td>
            <td>{{ item.User?.vFirstName }} {{ item.User?.vLastName }}</td>
            <td>
              <div class="d-flex align-items-center pointer-set">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" class="me-2"
                  xmlns="http://www.w3.org/2000/svg" data-bs-toggle="modal" data-bs-target="#createsystemeModal"
                  (click)="onClickEdit(item.iBillId)" [style.pointerEvents]="accountType != '1' ? 'none' : 'auto'">
                  <path
                    d="M13.3309 0.66964C12.9343 0.273671 12.3968 0.0512695 11.8364 0.0512695C11.276 0.0512695 10.7385 0.273671 10.3419 0.66964L0.854592 10.157C0.582905 10.4271 0.367487 10.7485 0.220799 11.1024C0.0741119 11.4564 -0.000932153 11.8359 8.73905e-06 12.2191V13.4166C8.73905e-06 13.5714 0.0614669 13.7197 0.170863 13.8291C0.280259 13.9385 0.428632 14 0.583342 14H1.78093C2.16404 14.0011 2.54356 13.9261 2.89752 13.7795C3.25148 13.633 3.57284 13.4176 3.84301 13.146L13.3309 3.65806C13.7267 3.2615 13.949 2.72412 13.949 2.16385C13.949 1.60358 13.7267 1.06619 13.3309 0.66964ZM3.01818 12.3211C2.68918 12.648 2.24465 12.832 1.78093 12.8333H1.16668V12.2191C1.16609 11.9892 1.2111 11.7614 1.29911 11.5491C1.38713 11.3367 1.51639 11.1439 1.67943 10.9818L8.87951 3.78172L10.2212 5.12339L3.01818 12.3211ZM12.5055 2.83322L11.0437 4.29564L9.70201 2.95689L11.1644 1.49447C11.2525 1.40657 11.3571 1.33688 11.4721 1.28938C11.5871 1.24188 11.7104 1.2175 11.8348 1.21764C11.9593 1.21777 12.0825 1.24242 12.1974 1.29017C12.3123 1.33792 12.4167 1.40784 12.5046 1.49593C12.5925 1.58403 12.6622 1.68857 12.7097 1.8036C12.7572 1.91863 12.7816 2.04189 12.7815 2.16634C12.7813 2.29079 12.7567 2.41399 12.7089 2.52892C12.6612 2.64384 12.5913 2.74824 12.5032 2.83614L12.5055 2.83322Z"
                    fill="#6B7789" />
                </svg>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="me-2" style="cursor: pointer"
                  xmlns="http://www.w3.org/2000/svg" (click)="downloadBill(item.vBillImage)"
                  [style.pointerEvents]="accountType != '1' ? 'none' : 'auto'">
                  <path
                    d="M8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1L8.5 1ZM7.5 9.55556C7.5 9.8317 7.72386 10.0556 8 10.0556C8.27614 10.0556 8.5 9.8317 8.5 9.55556H7.5ZM11.4647 8.35355C11.6599 8.15829 11.6599 7.84171 11.4647 7.64645C11.2694 7.45118 10.9528 7.45118 10.7576 7.64645L11.4647 8.35355ZM8.54997 10.5611L8.19642 10.2076L8.54997 10.5611ZM7.45003 10.5611L7.80358 10.2076L7.80358 10.2076L7.45003 10.5611ZM5.24244 7.64645C5.04718 7.45118 4.7306 7.45118 4.53534 7.64645C4.34007 7.84171 4.34007 8.15829 4.53534 8.35355L5.24244 7.64645ZM1.5 11.1111C1.5 10.835 1.27614 10.6111 1 10.6111C0.723858 10.6111 0.5 10.835 0.5 11.1111H1.5ZM15.5 11.1111C15.5 10.835 15.2761 10.6111 15 10.6111C14.7239 10.6111 14.5 10.835 14.5 11.1111H15.5ZM13.726 14.7457L13.499 14.3002H13.499L13.726 14.7457ZM14.7457 13.726L15.1912 13.953L14.7457 13.726ZM1.25432 13.726L0.808815 13.953L1.25432 13.726ZM2.27402 14.7457L2.04703 15.1912H2.04703L2.27402 14.7457ZM7.5 1L7.5 9.55556H8.5L8.5 1L7.5 1ZM10.7576 7.64645L8.19642 10.2076L8.90353 10.9147L11.4647 8.35355L10.7576 7.64645ZM7.80358 10.2076L5.24244 7.64645L4.53534 8.35355L7.09648 10.9147L7.80358 10.2076ZM8.19642 10.2076C8.08794 10.3161 7.91206 10.3161 7.80358 10.2076L7.09647 10.9147C7.59548 11.4137 8.40452 11.4137 8.90353 10.9147L8.19642 10.2076ZM0.5 11.1111V11.2667H1.5V11.1111H0.5ZM4.73333 15.5H11.2667V14.5H4.73333V15.5ZM15.5 11.2667V11.1111H14.5V11.2667H15.5ZM11.2667 15.5C11.9118 15.5 12.4257 15.5004 12.8399 15.4665C13.2599 15.4322 13.6212 15.3602 13.953 15.1912L13.499 14.3002C13.3317 14.3854 13.1166 14.4406 12.7585 14.4699C12.3945 14.4996 11.9283 14.5 11.2667 14.5V15.5ZM14.5 11.2667C14.5 11.9283 14.4996 12.3945 14.4699 12.7585C14.4406 13.1166 14.3854 13.3317 14.3002 13.499L15.1912 13.953C15.3602 13.6212 15.4322 13.2599 15.4665 12.8399C15.5004 12.4257 15.5 11.9118 15.5 11.2667H14.5ZM13.953 15.1912C14.4861 14.9195 14.9195 14.4861 15.1912 13.953L14.3002 13.499C14.1244 13.8439 13.8439 14.1244 13.499 14.3002L13.953 15.1912ZM0.5 11.2667C0.5 11.9118 0.499611 12.4257 0.53345 12.8399C0.567766 13.2599 0.639755 13.6212 0.808815 13.953L1.69982 13.499C1.61456 13.3317 1.55939 13.1166 1.53013 12.7585C1.50039 12.3945 1.5 11.9283 1.5 11.2667H0.5ZM4.73333 14.5C4.07169 14.5 3.60553 14.4996 3.24152 14.4699C2.88335 14.4406 2.66835 14.3854 2.50102 14.3002L2.04703 15.1912C2.37882 15.3602 2.74008 15.4322 3.16009 15.4665C3.57426 15.5004 4.08819 15.5 4.73333 15.5V14.5ZM0.808815 13.953C1.08046 14.4861 1.5139 14.9195 2.04703 15.1912L2.50102 14.3002C2.15605 14.1244 1.87559 13.8439 1.69982 13.499L0.808815 13.953Z"
                    fill="#6B7789" />
                </svg>
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" class="me-2"
                  xmlns="http://www.w3.org/2000/svg" data-bs-toggle="modal" data-bs-target="#deleteBillModal"
                  (click)="deleteBillDetails(item)" [style.pointerEvents]="accountType != '1' ? 'none' : 'auto'">
                  <g clip-path="url(#clip0_435_3179)">
                    <path
                      d="M12.2498 2.33333H10.4415C10.3061 1.67499 9.9479 1.08345 9.42723 0.658419C8.90657 0.233386 8.25529 0.000848473 7.58317 0L6.4165 0C5.74438 0.000848473 5.09311 0.233386 4.57244 0.658419C4.05178 1.08345 3.69356 1.67499 3.55817 2.33333H1.74984C1.59513 2.33333 1.44675 2.39479 1.33736 2.50419C1.22796 2.61358 1.1665 2.76196 1.1665 2.91667C1.1665 3.07138 1.22796 3.21975 1.33736 3.32915C1.44675 3.43854 1.59513 3.5 1.74984 3.5H2.33317V11.0833C2.3341 11.8566 2.64169 12.5979 3.18847 13.1447C3.73525 13.6915 4.47657 13.9991 5.24984 14H8.74984C9.5231 13.9991 10.2644 13.6915 10.8112 13.1447C11.358 12.5979 11.6656 11.8566 11.6665 11.0833V3.5H12.2498C12.4045 3.5 12.5529 3.43854 12.6623 3.32915C12.7717 3.21975 12.8332 3.07138 12.8332 2.91667C12.8332 2.76196 12.7717 2.61358 12.6623 2.50419C12.5529 2.39479 12.4045 2.33333 12.2498 2.33333ZM6.4165 1.16667H7.58317C7.945 1.16711 8.29783 1.27947 8.59328 1.48834C8.88873 1.69721 9.11233 1.99237 9.23342 2.33333H4.76625C4.88734 1.99237 5.11095 1.69721 5.4064 1.48834C5.70185 1.27947 6.05468 1.16711 6.4165 1.16667ZM10.4998 11.0833C10.4998 11.5475 10.3155 11.9926 9.98728 12.3208C9.65909 12.649 9.21397 12.8333 8.74984 12.8333H5.24984C4.78571 12.8333 4.34059 12.649 4.0124 12.3208C3.68421 11.9926 3.49984 11.5475 3.49984 11.0833V3.5H10.4998V11.0833Z"
                      fill="#6B7789" />
                    <path
                      d="M5.83333 10.5002C5.98804 10.5002 6.13642 10.4387 6.24581 10.3293C6.35521 10.2199 6.41667 10.0715 6.41667 9.91683V6.41683C6.41667 6.26212 6.35521 6.11375 6.24581 6.00435C6.13642 5.89495 5.98804 5.8335 5.83333 5.8335C5.67862 5.8335 5.53025 5.89495 5.42085 6.00435C5.31146 6.11375 5.25 6.26212 5.25 6.41683V9.91683C5.25 10.0715 5.31146 10.2199 5.42085 10.3293C5.53025 10.4387 5.67862 10.5002 5.83333 10.5002Z"
                      fill="#6B7789" />
                    <path
                      d="M8.16683 10.5002C8.32154 10.5002 8.46991 10.4387 8.57931 10.3293C8.6887 10.2199 8.75016 10.0715 8.75016 9.91683V6.41683C8.75016 6.26212 8.6887 6.11375 8.57931 6.00435C8.46991 5.89495 8.32154 5.8335 8.16683 5.8335C8.01212 5.8335 7.86375 5.89495 7.75435 6.00435C7.64495 6.11375 7.5835 6.26212 7.5835 6.41683V9.91683C7.5835 10.0715 7.64495 10.2199 7.75435 10.3293C7.86375 10.4387 8.01212 10.5002 8.16683 10.5002Z"
                      fill="#6B7789" />
                  </g>
                  <defs>
                    <clipPath id="clip0_435_3179">
                      <rect width="14" height="14" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex align-items-center justify-content-between" *ngIf="!billList?.length">
        <p class="align-items-center">No data found!!!</p>
      </div>
    </div>

    <div class="d-flex align-items-center justify-content-between shows-more" *ngIf="billList?.length > 0">
      <div class="first-parts d-flex align-items-center">
        <label style="white-space: nowrap" class="mb-0">Show rows:</label>
        <select class="form-select ms-3" aria-label="Default select example" (change)="onSetLimits($event)">
          <option value="5" selected>5 items</option>
          <option value="10">10 items</option>
        </select>
      </div>
      <div class="last-pagination">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link" aria-label="Previous" (click)="previousPage()" [class.disabled]="currentPage == 1">
                <span aria-hidden="true">«</span>
              </a>
            </li>
                <li class="page-item"><a class="page-link" href="#">{{currentPage}} of {{numberOfPage}}</a></li>
            <li class="page-item">
              <a class="page-link" aria-label="Next" (click)="nextPage()" [class.disabled]="currentPage === numberOfPage">
                <span aria-hidden="true">»</span>
              </a>
            </li>
          </ul>
        </nav>
        <!-- <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item me-4 same-common-cls" (click)="previousPage()" [class.disabled]="currentPage == 1">
              <a class="page-link" href="javascript:void[0]">
                <span class="left-ics">
                  <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 1L1 7L7 13" stroke="#94A3B8" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </span>
              </a>
            </li>
            <li class="page-item pagination-text me-3 same-common-cls amount-text" *ngFor="let page of pages">
              <a class="page-link" href="javascript:void[0]" (click)="onSelectPage(page)"
                [class.active]="page === currentPage">{{ page }}</a>
            </li>
            <li class="page-item ms-4 same-common-cls" (click)="nextPage()"
              [class.disabled]="currentPage === numberOfPage">
              <a class="page-link" href="javascript:void[0]">
                <span class="right-ics">
                  <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 13L7 7L1 1" stroke="#64748B" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </span>
              </a>
            </li>
          </ul>
        </nav> -->
      </div>
    </div>
  </div>
</div>

<!-- delete modal code start -->
<div class="modal fade new-assets-modal" id="deleteBillModal" tabindex="-1" aria-labelledby="deleteBillModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 mb-0" id="deleteBillModalLabel">Delete</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-4">
        <p>Are you sure want to delete this Bill?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary save-btn" data-bs-dismiss="modal" (click)="deleteBill()">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>
<!-- delete modal code over -->